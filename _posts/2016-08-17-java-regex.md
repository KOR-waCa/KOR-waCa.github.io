---
layout: post
title: "JAVA 정규식 사용 특수문자 치환,제거"
date: 2016-08-17 00:00:00
categories: java
tags: java regex matches replace replaceAll
---

### 자바 정규식

자바로 엑셀 파일을 출력 해주는데 시트이름에 **\: \ / ? \* \[ \]** 를 집어넣을 수 없어서  IllegalArgumentException이 났다.

확인해보니 들어가는 시트이름중에 ...[...] 이 들어가야하는 시트가 있었다.

처음에는 단순하게 처리했다.

```java
//엑셀 시트이름 못들어가는 문자 : \ / ? * [ ]
//시트이름에 [ 와 ] 이 있어 에러가 난다. 소괄호나 다른문자로 바꿔줄 필요가 있다.
String text = "주식회사 주식[에러]";

if(text.indexOf("[") > -1 || text.indexOf("]") > -1 ){
	text.replaceAll("\\[","\\(");
	text.replaceAll("\\]","\\)");
} 

```

이런 식으로 처리하다가 나머지 특수문자도 왠지 들어올것같아 계속추가해 나가다가 이건 아니다고 생각을 하게 되었다..

그래서 바꾼게

```java
//엑셀 시트이름 못들어가는 문자 : \ / ? * [ ]

String text = "주식회사 주식[에러]";
String regex = ".*[\\[\\][:]\\\\/?[*]].*";

if(text.matches(regex)){  // text에 정규식에 있는 문자가 있다면 true 없다면 false 
	//대괄호는 소괄호로
	text = text.replaceAll("\\[", "\\(");
	text = text.replaceAll("\\]", "\\)");
	//나머지 특수문자는 제거
	text = text.replaceAll("[[:]\\\\/?[*]]", "");  
}
```

아직 정규식을 쓴지 얼마 안되어 이게 최선인 방법이고 좀 더 좋은 방법이 있다면 그것을 택할것 같다.

추가로 자바에서 정규식에 특수문자를 넣으려면   

\* -> [*]  
\+ -> [+]  
\$ -> [$]  
\| -> [|]  

[ ] 으로 감싸줘야 하는것들이 있고  

( -> \\\\(  
) -> \\\\)  
{ -> \\\\{  
} -> \\\\}  
^ -> \\\^  
[ -> \\\\[  
] -> \\\\]  
\ -> \\\\\\\\
  
\\\ 추가해줘야 되는게 있다.  
무관한 특수문자는  
! # % & @ ` : ; - . , < > ~ ' " 가 있다.
